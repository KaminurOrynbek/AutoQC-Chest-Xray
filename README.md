# ü©ª AutoQC Backend

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–±—ä—è—Å–Ω—è–µ—Ç, –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å backend‚Äë—á–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞, —Å–æ–∑–¥–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API (auth, users, patients).

---

# üöÄ 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

## 1.1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
git clone <repo_url>
cd AutoQC-Chest-Xray
```

## 1.2 –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```
python -m venv .venv
source .venv/bin/activate      # Mac/Linux
.venv\Scripts\activate         # Windows
```

## 1.3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```commandline
pip install -r requirements.txt
```

# 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## 2.1 –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
```commandline
DATABASE_URL=postgresql+psycopg2://postgres:[–≤–∞—à –ø–∞—Ä–æ–ª—å]@localhost:5432/autochexpert_db
```

## 2.2 –í pg4admin —Å–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö autochexpert_db

# 3. –ú–∏–≥—Ä–∞—Ü–∏–∏ Alembic
 ## –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
```commandline
alembic upgrade head
```
–≤ pgAdmin –ø–æ—è–≤—è—Ç—Å—è —Ç–∞–±–ª–∏—Ü—ã:

* users

* patients

* exam

* qc_records

# 4. –ó–∞–ø—É—Å–∫ backend
```commandline
uvicorn app.main:app --reload --port 8000
```
Swagger UI: http://localhost:8000/docs

# 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AUTH
## 5.1 –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞
–≠—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤ –ë–î –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∞.
–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∞–¥–º–∏–Ω –≤ —ç—Ç–æ–º —ç–Ω–¥–ø–æ–π–Ω—Ç–µ, –¥–∞–ª—å–Ω–µ–π—à–µ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –∞–¥–º–∏–Ω–æ–≤ –±—É–¥–µ—Ç –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å—Å—è –≤ POST admin/admin/users. –ü–æ—Ç–æ–º—É —á—Ç–æ, —ç—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ  –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ –±—ã, —Å–æ–∑–¥–∞—Ç—å –∏–∑–Ω–∞—á–∞–ª—å–Ω—ã–π –∞–¥–º–∏–Ω.
### POST /auth/register
```json
{
  "username": "admin",
  "password": "0000",
  "full_name": "admin"
}
```
–∫ –ø—Ä–∏–º–µ—Ä—É

### POST /auth/login
```json
{
  "username": "admin",
  "password": "0000"
}
```

# 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Patients API
–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—É.
### POST /patients/
```json
{
  "patient_id": "P-1001",
  "first_name": "Aruzhan",
  "last_name": "Tulegenova",
  "birth_date": "2003-04-12",
  "sex": "F"
}
```
